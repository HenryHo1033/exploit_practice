from app.classes.sql import Mysql
from app.service.userBalance import UserBalance

class User(UserBalance):

    __USER = "user"

    def __init__(self):
        super().__init__()
        self.__mysql = Mysql()


    def user_info(self, user_id):

        sql = f"Select * from {User.__USER} where id = {int(user_id)}"


        try:
            user_info = self.__mysql.search(sql = sql)
            self.user_balance(user_id)


        except:

            raise Exception

        finally:
            self.__mysql.close()


        self.__user_data = {
            "user_id" : user_info[0][0],
            "user_name" : user_info[0][1],
            "amount" : float(self.user_amount[1])
        }


        return self.__user_data

    @classmethod
    def user_table(cls):

        return cls.__USER