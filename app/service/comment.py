from app.classes.sql import Mysql

class Comment(Mysql):
    __COMMENT = "comment"

    def __init__(self):

        super().__init__()

    def user_comment(self):

        sql = f"Select * from {Comment.__COMMENT}"

        try:
            self.__comment = self.search(sql)

        except:

            raise Exception

        finally:

            self.close()

    @property
    def comment(self):
        comment_list = []

        for comment in self.__comment:
            comment_list.append({
            "comment_id" : comment[0],
            "user_id" : comment[1],
            "comment_cotent" : comment[2],
            "created_time" : comment[3]
    })

        return comment_list

